/**
 * Main less module
 *
 * @author Viacheslav Lotsmanov
 * @license GNU/AGPLv3
 * @see {@link https://github.com/web-izmerenie/jhdanaya/blob/master/LICENSE-AGPLv3|License}
 */

// imports {{{1

// variables
@import "variables";

// libs
@import "libs/reset";
@import "libs/lesshat";
@import "libs/font_mixins";
@import "libs/position_mixins";
@import "libs/animated_icon_mixin";
@import "libs/pseudo_mixins";

// project mixins
@import "mixins";

// fonts
@import "fonts";

// sprites
@import "sprites/icons";

// mixins
@import "circle_down_arrow_button";

// elements
@import "header";
@import "footer";
@import "content";
@import "content_bg";
@import "colorbox";

// pages
@import "pages/main";
@import "pages/shops";
@import "pages/collection";
@import "pages/collection_detail";
@import "pages/events";
@import "pages/error_404";
@import "pages/vacancies";

// imports }}}1

html, body {
	.size(100%);
	min-height: 100%;
	height: auto;
}

:focus { outline: none; }
::-moz-focus-inner { border: 0; }

html body {
	overflow-y: scroll;
	color: @contentColor;
	.fontMetrics(0, 0);
	background: @bgColor;

	h1 { // {{{1
		display: block;
		.sansSerifFont('Roboto-Thin', 52px);
		text-transform: uppercase;
		max-width: @maxWidth - ((@mainMargin2 - @mainMargin) * 2);
		margin-left: auto;
		margin-right: auto;
		.box-sizing(border-box);
		padding: 0 @mainMargin;
		padding-top: 80px - 45px;
		min-width: @minWidth;
	} // h1 }}}1

	nav.nav_block { // {{{1
		min-width: @minWidth;
		max-width: @maxWidth - ((@mainMargin2 - @mainMargin) * 2);
		margin-left: auto;
		margin-right: auto;
		.box-sizing(border-box);
		padding-left: @mainMargin;
		padding-right: @mainMargin;
		@pX: 11px; // padding X-axis
		padding-top: 36px - 9px;
		padding-bottom: 43px - 18px;

		& > a, & > span {
			.linkNoLine;
			display: inline-block;
			padding-left: @pX;
			padding-right: @pX;
			.sansSerifFont('Roboto-Light', 15px, 24px);
			text-transform: uppercase;
			white-space: nowrap;
			padding-top: 9px;
			padding-bottom: 8px;
			margin-right: @pX;

			&:first-child { margin-left: -@pX; }
			&:last-child { margin-right: 0; }
		}

		& > a > span {
			display: inline;
			border-bottom: 1px solid @linkColorUnderline;
			.transit(~'border-bottom-color');
		}

		& > a:hover > span {
			border-bottom-color: @activeLinkColorUnderline;
		}

		@activeBgColor: #dcd1cd;

		& > span, & > a.active {
			background: @activeBgColor;
			border-bottom-color: @activeBgColor;

			&, &:hover { color: @contentColor; }
		}

		& > a.active > span,
		& > a.active:hover > span {
			border-bottom-color: @activeBgColor;
		}

		& > span { cursor: default; }
	} // nav.nav_block }}}1

	h1 + main { padding-top: 55px - 27px; }

	main { // {{{1
		min-width: @minWidth;
		max-width: @minWidth;
		.box-sizing(border-box);
		padding-left: @mainMargin;
		padding-right: @mainMargin;
		margin-left: auto;
		margin-right: auto;
		font: @contentFont;

		h3 {
			font: @contentFont;
			.fontMetrics(16px, 24px);
			font-weight: bold;
		}

		ul {
			.relative;

			li {
				padding-left: 38px;
				padding-top: 6px;
				.relative;

				&:before {
					.pseudoBlock('â€”');
					.absolute(auto, auto, auto, 18px);
				}
			}
		}

		p + p, blockquote + p,
		blockquote + blockquote, blockquote + p,
		h3 + p, p + h3, blockquote + h3, h3 + blockquote,
		ul + h3, p + ul, ul + p, blockquote + ul, ul + blockquote { padding-top: 24px; }

		p + p>img,
		blockquote + p>img {
			margin-top: 24px;
			margin-bottom: 16px;
			.size(100%, auto);
		}

		p + p.greetz, blockquote + p.greetz {
			.sansSerifFont('Roboto', 18px, 24px);
			font-weight: bold;
			text-align: center;
			padding-top: 74px - 24px;
		}

		b, strong { font-weight: bold; }
		i, em { font-style: italic; }

		&.stretch { max-width: @maxWidth; }
		&.no_limits { padding-left: 0; padding-right: 0; }

		blockquote.simple_rigth_quote { // {{{2
			display: block;
			&:after { .pseudoBlock; clear: both; }

			.wrap {
				display: block;
				float: right;
				&:after { .pseudoBlock; clear: both; }

				p {
					.sansSerifFont('Roboto', 17px, 24px);
				}

				p.signature {
					text-align: right;
					font: @contentFont;
					font-weight: bold;
				}

				p + p.signature { margin-top: -(48px - 32px); }
			} // .wrap

			& + p { padding-top: 34px; }
		} // blockquote.simple_rigth_quote }}}2
	} // main }}}1
} // html body
